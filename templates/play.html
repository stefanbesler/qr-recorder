<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Player</title>

<link rel="stylesheet"
 href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;overflow:hidden;}

body{
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial;
    background:#f5f5f5;
    display:flex;
    align-items:center;
    justify-content:center;
}

.card{
    background:white;
    padding:1.2em;
    border-radius:20px;
    box-shadow:0 4px 20px rgba(0,0,0,0.08);
    width:90%;
    max-width:400px;
    text-align:center;
}

h1{
    font-size:2em;
    margin-bottom:0.5em;
    font-weight:700;
    background:linear-gradient(45deg,#2196F3,#1976D2);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
}

.play-btn{
    width:100px;
    height:100px;
    border-radius:50%;
    border:none;
    background:#e3f2fd;
    margin:1em auto;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:36px;
    cursor:pointer;
    transition:0.3s;
}

.play-btn.playing{
    background:#bbdefb;
    box-shadow:0 0 20px rgba(33,150,243,0.4);
}

.play-btn i{
    color:#1976D2;
}

.time{
    margin-top:0.5em;
    font-weight:600;
    font-size:1.1em;
    color:#444;
}

audio{
    width:100%;
    margin-top:1em;
}
#indexBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    background: #1976D2;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    text-decoration: none;
    transition: 0.3s;
}
#indexBtn:hover {
    background: #115293;
    transform: scale(1.05);
}
</style>
</head>

<body>

<div class="card">

<h1>Player</h1>

<button id="playBtn" class="play-btn">
    <i class="fas fa-play"></i>
</button>

<div id="time" class="time">00:00</div>

<audio id="audio" autoplay>
    <source autoplay playsinline src="/audio/{{uid}}">
</audio>

</div>

<a href="/" id="indexBtn" title="All Recordings">
    <i class="fas fa-list"></i>
</a>

<script>
const audio = document.getElementById("audio");
const btn = document.getElementById("playBtn");
const icon = btn.querySelector("i");
const timeEl = document.getElementById("time");

btn.onclick = ()=>{
    if(audio.paused){
        audio.play();
    }else{
        audio.pause();
    }
};

audio.onplay = ()=>{
    btn.classList.add("playing");
    icon.className = "fas fa-pause";
};

audio.onpause = ()=>{
    btn.classList.remove("playing");
    icon.className = "fas fa-play";
};

audio.ontimeupdate = ()=>{
    const sec = Math.floor(audio.currentTime);
    const m = String(Math.floor(sec/60)).padStart(2,'0');
    const s = String(sec%60).padStart(2,'0');
    timeEl.textContent = `${m}:${s}`;
};

audio.onended = ()=>{
    btn.classList.remove("playing");
    icon.className = "fas fa-play";
};
</script>

</body>
</html>
